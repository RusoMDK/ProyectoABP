<div class="modal-body">
  <form nz-form [formGroup]="validateForm" [nzLayout]="'vertical'">
    <nz-form-item>
      <nz-form-label [nzSpan]="24">Tipo de sensor<span class="required-asterisk">*</span></nz-form-label>
      <nz-form-control [nzSpan]="24" nzHasFeedback [nzValidateStatus]="validateForm.get('type')?.invalid && (validateForm.get('type')?.dirty || (validateForm.get('type')?.touched)) ? 'error' : ''">
        <div class="input-container">
          <input nz-input formControlName="type" placeholder="Escriba el tipo de sensor"
                [class.error-input]="validateForm.get('type')?.invalid && (validateForm.get('type')?.dirty || (validateForm.get('type')?.touched))" />
        </div>
        <ng-container *ngIf="validateForm.get('type')?.invalid && (validateForm.get('type')?.dirty || (validateForm.get('type')?.touched))">
          <div class="error-message">
            <div *ngIf="validateForm.get('type')?.errors?.['required']">Por favor introduzca el tipo de sensor!</div>
            <div *ngIf="validateForm.get('type')?.errors?.['pattern']">El tipo de sensor solo puede contener letras, espacios y puntos.</div>
          </div>
        </ng-container>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="24">Descripción<span class="required-asterisk">*</span></nz-form-label>
      <nz-form-control [nzSpan]="24" nzHasFeedback [nzValidateStatus]="validateForm.get('description')?.invalid && (validateForm.get('description')?.dirty || (validateForm.get('description')?.touched)) ? 'error' : ''">
        <div class="input-container">
          <input nz-input formControlName="description" placeholder="Escriba la descripción"
                [class.error-input]="validateForm.get('description')?.invalid && (validateForm.get('description')?.dirty || (validateForm.get('description')?.touched))" />
        </div>
        <ng-container *ngIf="validateForm.get('description')?.invalid && (validateForm.get('description')?.dirty || (validateForm.get('description')?.touched))">
          <div class="error-message">
            <div *ngIf="validateForm.get('description')?.errors?.['required']">Por favor introduzca la descripción!</div>
            <div *ngIf="validateForm.get('description')?.errors?.['pattern']">La descripción solo puede contener letras, espacios y puntos.</div>
            <div *ngIf="validateForm.get('description')?.errors?.['whitespace']">La descripción no puede estar vacía o contener solo espacios o puntos.</div>
          </div>
        </ng-container>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="24">Seleccione su dispositivo<span class="required-asterisk">*</span></nz-form-label>
      <nz-form-control [nzSpan]="24">
        <nz-select formControlName="deviceId" nzShowSearch nzPlaceHolder="Seleccione un dispositivo" (ngModelChange)="onSelectDeviceChange($event)">
          <nz-option *ngFor="let device of devices" [nzValue]="device.id" [nzLabel]="device.name"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="24">Seleccione su escenario<span class="required-asterisk">*</span></nz-form-label>
      <nz-form-control [nzSpan]="24">
        <nz-select formControlName="escenaryId" nzShowSearch nzPlaceHolder="Seleccione un escenario" (ngModelChange)="onSelectEscenaryChange($event)">
          <nz-option *ngFor="let escenary of escenarys" [nzValue]="escenary.id" [nzLabel]="escenary.name"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>
<div class="modal-footer">
  <button type="button" nz-button nzType="default" (click)="handleCancel()">Cancelar</button>
  <button type="button" nz-button nzType="primary" (click)="submitForm()">Guardar</button>
</div>
